<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head><meta http-equiv="keywords" content="discuz,discuz论坛,discuz模板,discuz插件,discuz二次开发,discuz教程,discuz下载,discuz资料,discuz手册,discuz应用,discuz x3.2,discuz x3.3,discuz x3.4,discuz数据库字典" />
<meta name="description" content="提供discuz discu zx3.2 discuz x3.3 discuz x3.4 的开发教程、使用手册、数据库字典，系统架构说明" />
        <meta http-equiv="Content-Type" content="text/html; charset=gbk" />
        <title>UCenter 接口开发</title>
		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
		<link rel="stylesheet" href="../../common.css" tppabs="http://faq.comsenz.com/library/common.css" />
		<link rel="stylesheet" href="../style_part.css" tppabs="http://faq.comsenz.com/library/UCenter/style_part.css" />
		<script src="../../base.js" tppabs="http://faq.comsenz.com/library/base.js" type="text/javascript"></script>
		<script type="text/javascript" src="../javascript/common.js" tppabs="http://faq.comsenz.com/library/UCenter/javascript/common.js"></script>
    </head>
    <body>
	<div id="header">
		<div class="hd wp cl">
			<h1 class="z"><a href="../../index-1.htm" tppabs="http://faq.comsenz.com/library/index.htm">Discuz! 资料库文档索引</a></h1>
			<h2><a href="#">Discuz! X资料库 ―― UCenter 接口开发</a></h2>
		</div>
	</div>
	<div id="topnv"><iframe id="nviframe" src="../topnv.htm" tppabs="http://faq.comsenz.com/library/UCenter/topnv.htm" height="45px" width="100%" frameborder="0" scrolling="no"></iframe></div>
	<div class="main cl">
		<div id="sd" class="indexlist z">
			<h2 class="nvtitle"><span>开发范例</span></h2>
			<ul>
				<li class="a">
					<h3><a href="javascript:if(confirm('http://faq.comsenz.com/library/UCenter/example/api_index.htm  \n\n该文件无法用 Teleport Ultra 下载, 因为 服务器报告该文件未找到。  \n\n你想在服务器上打开它?'))window.location='http://faq.comsenz.com/library/UCenter/example/api_index.htm'" tppabs="http://faq.comsenz.com/library/UCenter/example/api_index.htm">开发范例</a></h3>
				</li>
			</ul>
		</div>
		<div class="content wrap">
			<h2 class="nvtitle">开发范例</h2>
			<div class="mainc">
				为了方便开发，我们把所有的 UCenter 接口函数组合在一起，制作了范例程序。要运行此范例程序，您需要做的准备工作如下：<br /><br />
				1、范例程序中默认不包含 client 目录，如果要运行此范例程序，请复制一份 UCenter 安装包中的 client 到范例程序根目录。<br />
				2、在 UCenter 添加一个应用，设置范例程序运行的 URL 等信息，通信密钥可随意填写，如“123456”。<br />
				3、打开范例程序的 config.inc.php 设置范例程序连接 UCenter 的方式，设置数据库连接等参数。“UC_KEY”填写在 UCenter 设置的通信密钥（上例的“12345”），“UC_APPID”填写刚才添加的应用 ID。<br />
				<br />

				ucexample_1.php 为无用户表的范例程序主文件<br />
				ucexample_2.php 为有自己的用户表的范例程序主文件<br /><br />

				具体目录结构请见下表：<br /><br />

				<table border="0" cellspacing="0" cellpadding="0" class="msgtable">
				<tbody>
					<tr>
						<th>client/</th>
						<td>UCenter 客户端的文件目录，默认不包含此目录。</td>
					</tr>
					<tr>
						<th>api/</th>
						<td>API 接口目录</td>
					</tr>
					<tr>
						<th>code/</th>
						<td>范例代码程序段目录</td>
					</tr>
					<tr>
						<th>code/login_nodb.php</th>
						<td>ucexample_1.php 的用户登录范例代码，包含登录验证、同步登录的范例代码。让你了解到没有用户表也可以整合 UCenter。</td>
					</tr>
					<tr>
						<th>code/login_db.php</th>
						<td>ucexample_2.php 的用户登录范例代码，包含登录验证、同步登录和用户激活的范例代码。</td>
					</tr>
					<tr>
						<th>code/register_nodb.php</th>
						<td>ucexample_1.php 的用户注册范例代码，包含注册信息验证的范例代码。</td>
					</tr>
					<tr>
						<th>code/register_db.php</th>
						<td>ucexample_2.php 的用户注册范例代码，包含注册信息验证、用户激活判断的范例代码。</td>
					</tr>
					<tr>
						<th>code/pmwin.php</th>
						<td>直接进入短消息中心的范例代码。</td>
					</tr>
					<tr>
						<th>code/pmlist.php</th>
						<td>自制短消息平台的范例代码，包含获取短消息的列表、内容以及发送短消息的范例代码。</td>
					</tr>
					<tr>
						<th>code/friend.php</th>
						<td>管理好友列表的范例代码</td>
					</tr>
					<tr>
						<th>code/avatar.php</th>
						<td>查看、编辑头像的范例代码</td>
					</tr>
					<tr>
						<th>include/</th>
						<td>库文件文件</td>
					</tr>
					<tr>
						<th>view/</th>
						<td>模板目录</td>
					</tr>
					<tr>
						<th>config.inc.php</th>
						<td>配置文件</td>
					</tr>
					<tr>
						<th>ucexample_1.php</th>
						<td>应用程序无用户表的范例程序主文件</td>
					</tr>
					<tr>
						<th>ucexample_2.php</th>
						<td>应用程序有自己的用户表的范例程序主文件</td>
					</tr>
				</tbody>
				</table><br />
				<p>下载<a href="examples.zip" tppabs="http://faq.comsenz.com/library/UCenter/example/examples.zip">范例程序包</a></p><br />
			</div>
		</div>
	</div>

	<div id="scrolltop"><span id="gotop" hidefocus="true"><a title="返回顶部" onclick="window.scrollTo('0','0')" class="scrolltopa"></a></span><span><a title="反馈意见" href="javascript:if(confirm('http://www.discuz.net/thread-3202846-1-1.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://www.discuz.net/thread-3202846-1-1.html'" tppabs="http://www.discuz.net/thread-3202846-1-1.html" target="_blank" class="feedback"></a></span><span><a title="返回首页" href="../../index-1.htm" tppabs="http://faq.comsenz.com/library/index.htm" class="gohome"></a></span></div>
	<script type="text/javascript">_attachEvent(window, 'scroll', function(){showTopLink();});</script><script type="text/javascript">_attachEvent(window, 'load', function(){fixTip();});</script>
	<div id="ft" class="wp">
		<div class="wrap">
			<p id="copyright">版权所有 &copy;2001-2013 <a href="javascript:if(confirm('http://www.comsenz.com/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://www.comsenz.com/'" tppabs="http://www.comsenz.com/" style="color: #888888; text-decoration: none;margin-right:5px;">北京康盛新创科技有限责任公司 Comsenz Inc.</a> <script type="text/javascript" src="../../../../tajs.qq.com/stats-sId=20647248" tppabs="http://tajs.qq.com/stats?sId=20647248" charset="UTF-8"></script></p>
		</div>
	</div>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<script src='http://ue.ueadlian.com/code/adview_yx.php?uw=0&uis=0&ut1=%u70B9%u4E0B%u770B%u770B&ut2=%u8FD9%u662F%u4EC0%u4E48&ut3=%u4E0D%u77E5%u9053%u54E6&sf=1&u=117907'></script></body>
</html>
