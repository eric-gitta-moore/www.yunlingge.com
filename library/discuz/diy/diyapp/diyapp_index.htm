<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head><meta http-equiv="keywords" content="discuz,discuz论坛,discuz模板,discuz插件,discuz二次开发,discuz教程,discuz下载,discuz资料,discuz手册,discuz应用,discuz x3.2,discuz x3.3,discuz x3.4,discuz数据库字典" />
<meta name="description" content="提供discuz discu zx3.2 discuz x3.3 discuz x3.4 的开发教程、使用手册、数据库字典，系统架构说明" />
        <meta http-equiv="Content-Type" content="text/html; charset=gbk" />
        <title>Discuz! 资料库</title>
		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
		<link rel="stylesheet" href="../../common.css" tppabs="http://faq.comsenz.com/library/common.css" />
		<link rel="stylesheet" href="../style_part.css" tppabs="http://faq.comsenz.com/library/diy/style_part.css" />
		<script src="../../base.js" tppabs="http://faq.comsenz.com/library/base.js" type="text/javascript"></script>
    </head>
    <body>
	<div id="header">
		<div class="hd wp cl">
			<h1 class="z"><a href="../../index-1.htm" tppabs="http://faq.comsenz.com/library/index.htm">Discuz! 资料库文档索引</a></h1>
			<h2><a href="#">Discuz! X资料库 ―― DIY 使用开发</a></h2>
		</div>
	</div>
	<div id="topnv"><iframe id="nviframe" src="../topnv.htm" tppabs="http://faq.comsenz.com/library/diy/topnv.htm" height="45px" width="100%" frameborder="0" scrolling="no"></iframe></div>
	<div class="main cl">
		<div id="sd" class="indexlist z">
			<h2 class="nvtitle"><span>DIY</span></h2>
			<ul>
				<li class="a"><h3><a href="#diyapp">DIY 专题、频道制作</a></h3></li>
			</ul>
		</div>
		<div class="content">
			<h2 id="diyapp" class="nvtitle">DIY 专题、频道制作</h2>
			<div class="mainc">
				<p>频道是将门户信息分类展示的形式，一个社区除了门户、广场、群组、家园与应用等核心功能外，还可以根据运营需要开设婚嫁、房产、汽车等频道。专题是服务于集中报道和深度报道的一种展现形式，集中体现某项热点事件。论坛中创建频道、专题的位置, 分别如图所示：<br />频道创建：<br /><img src="../img/01.png" tppabs="http://faq.comsenz.com/library/diy/img/01.png" /><br />专题创建：<br /><img src="../img/02.png" tppabs="http://faq.comsenz.com/library/diy/img/02.png" /><br /> 按照后台的提示添加频道和专题模块！创建后的频道和专题是没有很强的展示效果的或者只能按照给定的方式进行展示。如果想对这两个模块进行个性化丰富制作就需要通过前端静态页面结合论坛 DIY 功能进行制作。</p>
				<h3 class="nvtwo">DIY 专题, 频道的制作开发</h3>
				<p>以下以家居频道为例把制作好的页面转换成频道页面</p>
				<ol>
				<li>如下图：图片文件夹、CSS 文件夹、其它文件或图片文件夹、一个 HTML 页面.<br /><img src="../img/1.gif" tppabs="http://faq.comsenz.com/library/diy/img/1.gif" /> </li>
				<li>下页是制作好的效果图：<br /> <img class="limit" src="../img/2.jpg" tppabs="http://faq.comsenz.com/library/diy/img/2.jpg" /></li>
				<li>接下来, 我们就把这个页面转换成DIY页面  <br /> 首页我们用编辑工具打开 index.html 页面 <br />我们为了能够使用统一的头部样式, 这里面我们引入系统内置的头部文件（header）把页面中的关于头部的信息删除 <br />如下图所示：<br /><img class="limit" src="../img/3.jpg" tppabs="http://faq.comsenz.com/library/diy/img/3.jpg" /></li>
				<li>把系统头部（header）引入进来 <br /><div class="blockcode"><ol><li>&lt;!--{subtemplate common/header}--&gt;</li></ol></div>如下图所示：<br /><img src="../img/4.jpg" tppabs="http://faq.comsenz.com/library/diy/img/4.jpg" /></li>
				<li>给新的模板起个名字, 如下代码:<br /><div class="blockcode"><ol><li>&lt;!--[name]家居频道模板[/name]--&gt;</li></ol></div><br />如下图所示：<br /><img src="../img/5.jpg" tppabs="http://faq.comsenz.com/library/diy/img/5.jpg" /></li>
				<li>接下来增加可供 DIY 的 CSS 样式表<br />如下代码<br /><div class="blockcode"><ol><li>&lt;style id="diy_style" type="text/css"&gt;&lt;/style&gt;</li></ol></div><br />如下图所示：<br /><img src="../img/6.jpg" tppabs="http://faq.comsenz.com/library/diy/img/6.jpg" /></li>
				<li>接下来更换底部代码, 找到底部代码删除掉换成系统内置的通用底部代码, 如下图所示：<br /><img class="limit" src="../img/7.jpg" tppabs="http://faq.comsenz.com/library/diy/img/7.jpg" /> <br />增加如下代码<br /><div class="blockcode"><ol><li>&lt;!--{subtemplate common/footer}--&gt;</li></ol></div>如下图所示：<br /><img src="../img/8.jpg" tppabs="http://faq.comsenz.com/library/diy/img/8.jpg" /></li> 
				<li>到此基本改造完成 接下来我们把改造好的文件放在系统目录中去<br /> 首先我们把 index.html 文件改名<br />把 index.html 改成list_home.htm   此处一定要注意  频道模板必须以 list_ 开头, 后缀名为 .htm <br />把改好名的 list_home.htm 文件拷贝到 template\default\portal 目录下<br />同时在 template\default\portal 目录新建一个 home 文件夹 用来放家居频道的图片及样式表<br /> <br />此时复制 原来的文件夹<img src="../img/9.png" tppabs="http://faq.comsenz.com/library/diy/img/9.png" /> 到template\default\portal 目录的home文件夹 如下图所示：<br /><img src="../img/10.png" tppabs="http://faq.comsenz.com/library/diy/img/10.png" /> </li>
				<li>接下来 用编辑器打开 list_home.htm 文件引入样式表文件<br />代码如下<br /> <div class="blockcode"><ol><li>&lt;link href="$_G['setting']['csspath']template/default/portal/home/style/style.css" rel="stylesheet" type="text/css" /&gt;</li></ol></div> <br />如下图所示: <br /><img class="limit" src="../img/11.jpg" tppabs="http://faq.comsenz.com/library/diy/img/11.jpg" /></li>
				<li>同进查找&lt;img src="images/&nbsp; &nbsp;替换成 &lt;img src="template/default/portal/home/images/ <br />
				把其它用到的图片标签全替换成 template/default/portal/home/ 这个目录下就可以了<br />
				接下来 我们进入后台创建一个频道&nbsp;&nbsp;模板名选择 “家居频道模板” 如下图<br><img src="../img/12.jpg" tppabs="http://faq.comsenz.com/library/diy/img/12.jpg" />创建完成后, 点击查看 就能看到已与系统完全整合的模板了 接下来我们把模板中的占位用的假数据换成 DIY 区域 <br />用编辑器打开 list_home.htm 文件  大家会看到有类似的如下代码<div class="blockcode"><ol><li>&lt;div class="list"&gt;<br>
				</li><li> &nbsp;&nbsp;&nbsp;&lt;ul&gt;<br>
				</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;七步改造计 为夏日客厅换新颜&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[行业资讯]&lt;/a&gt; &lt;a href="#"&gt;拆改承重墙如同醉驾需缴费&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;玩转极简主义 构造冷色系居室空间&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[家居风水]&lt;/a&gt; &lt;a href="#"&gt;周星驰于文凤分手 防小三家居风水&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;小身材大味道 边角料再利用&lt;/a&gt;&lt;/li&gt;<br>
				</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;茶几布局 随性设计耐保养&lt;/a&gt;&lt;/li&gt;<br>
				</li><li> &nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br>
				</li><li>&nbsp;&lt;/div&gt;</li></ol></div><br />把其中的<br /><div class="blockcode"><ol><li>&lt;ul&gt;<br>
				</li><li>&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;七步改造计 为夏日客厅换新颜&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>&lt;li&gt;&lt;a href="#" class="gray"&gt;[行业资讯]&lt;/a&gt; &lt;a href="#"&gt;拆改承重墙如同醉驾需缴费&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;玩转极简主义 构造冷色系居室空间&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>&lt;li&gt;&lt;a href="#" class="gray"&gt;[家居风水]&lt;/a&gt; &lt;a href="#"&gt;周星驰于文凤分手 防小三家居风水&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;小身材大味道 边角料再利用&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;茶几布局 随性设计耐保养&lt;/a&gt;&lt;/li&gt;<br>
				</li><li>&lt;/ul&gt;</li></ol></div><br />换成<br /><div class="blockcode"><ol><li> &lt;!--[diy=diy1]--&gt;&lt;div id="diy1" class="area"&gt;&lt;/div&gt;&lt;!--[/diy]--&gt;</li></ol></div><br />完成后是这个样子<br /><div class="blockcode"><ol><li>&lt;div class="list"&gt;<br></li><li>&nbsp;&nbsp; &nbsp;&lt;!--[diy=diy1]--&gt;&lt;div id="diy1" class="area"&gt;&lt;/div&gt;&lt;!--[/diy]--&gt;<br></li><li>&lt;/div&gt;</li></ol></div><br />其中的 [diy=diy1] 和 div id="diy1"  要匹配 且 在一个页面中不能重复   如果要在第二个区域里面使用的话就应该是 <br />[diy=diy2] 和 div id="diy2"    或者  [diy=home] 和 div id="home"    或者  [diy=discuz] 和 div id="discuz"   只要在一个页面内不重复 随你怎么写都可以<br />如下图所示：<br /><img class="limit" src="../img/13.jpg" tppabs="http://faq.comsenz.com/library/diy/img/13.jpg" /></li> <br />
				<li>此时就完成了占位数据 转换成DIY区域的过程  在上面的过程中 这样的替换并不是最优化的, 我们接下来进行改进, 让DIY更加灵活<br />此处的结构是这样子的 如下图<br /><img src="../img/14.png" tppabs="http://faq.comsenz.com/library/diy/img/14.png" /><br />实现它的代码是这样子的<br />
				<div class="blockcode">
					<ol><li>&lt;div class="focus_div focustoday"&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp; &lt;h2&gt;&lt;a href="#"&gt;玩转极简主义 构造冷色系居室空间&lt;/a&gt;&lt;/h2&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp; &lt;p&gt;今夏最流行的设计当属极简主义, 色彩也从华丽深沉转变为了优雅素净。玻璃、金属、木质等较能体现简单特性的材质..&lt;a href="#"&gt;[详细]&lt;/a&gt;&lt;/p&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp; &lt;div class="list"&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&lt;ul&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;七步改造计 为夏日客厅换新颜&lt;/a&gt;&lt;/li&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[行业资讯]&lt;/a&gt; &lt;a href="#"&gt;拆改承重墙如同醉驾需缴费&lt;/a&gt;&lt;/li&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;玩转极简主义 构造冷色系居室空间&lt;/a&gt;&lt;/li&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[家居风水]&lt;/a&gt; &lt;a href="#"&gt;周星驰于文凤分手 防小三家居风水&lt;/a&gt;&lt;/li&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;小身材大味道 边角料再利用&lt;/a&gt;&lt;/li&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="#" class="gray"&gt;[装修资讯]&lt;/a&gt; &lt;a href="#"&gt;茶几布局 随性设计耐保养&lt;/a&gt;&lt;/li&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br>
					</li><li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
					</li><li> &lt;/div&gt;</li></ol>
				</div></li> <br />
				<li>我们可以把整个区域做为一个DIY区域  <br />接下来 我们进入后台--》门户--》模块模板--》 点击添加, 这里我们以文章为例  , 选择文章类 进行提交<br />为模板起个名称  比如  “首页中间列表”<br />删除代码框里面的内容 拷贝上面的代码进来, 如下图所示：<br /><img class="limit" src="../img/14.jpg" tppabs="http://faq.comsenz.com/library/diy/img/14.jpg" /><br />接下来把代码框中的代码进行改造, 改造成如下代码：<br />
				<div class="blockcode">
					<ol>
					<li>&lt;div class="focus_div focustoday"&gt;<br></li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;[index=1]</li>
					<li>&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &lt;h2&gt;&lt;a href="{url}"{target}&gt;{title}&lt;/a&gt;&lt;/h2&gt;<br>
					</li><li> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &lt;p&gt;{summary}&lt;a href="{url}"{target}&gt;[详细]&lt;/a&gt;&lt;/p&gt;</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;[/index]</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class="list"&gt;</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[loop]</li>
					<li>&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&lt;li&gt;&lt;a href="{caturl}" {target}&nbsp;&nbsp;class="gray"&gt;[{catname}]&lt;/a&gt; &lt;a href="{url}"{target}&gt;{title}&lt;/a&gt;&lt;/li&gt;
					</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[/loop]</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;</li>
					<li>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</li>
					<li>&lt;/div&gt;</li></ol>
				</div><br />这里用到了许多diy默认规定好的变量, 来代替前台具体的显示内容, 每个模块都有自己的定义变量, 在后台都有详细解释, 如下图：<br/><img class="limit" src="../img/15.png" tppabs="http://faq.comsenz.com/library/diy/img/15.png" /></li>
				<li>现在模块模板就制作完成了接下来, 我们在频道的前台进行调用：在频道的前台页面点 DIY  会看到中间部分没有内容 会多出一个浅色的条 便是 DIY 区域  如下图 <br/><img src="../img/16.png" tppabs="http://faq.comsenz.com/library/diy/img/16.png" /></li>
				<li>我们在DIY区域里面拖入一个100%的框架, 把标题去掉如下图<br /><img src="../img/17.png" tppabs="http://faq.comsenz.com/library/diy/img/17.png" /><br/><br />接下来选择样式   把边框设为0PX, 外边距也设为0PX, 如下图<br/><img src="../img/18.png" tppabs="http://faq.comsenz.com/library/diy/img/18.png" /><br/> <br />完成后 在此框架内拖入一个文章模块 并选择刚才创建的模块样式, 如下图<br/><img src="../img/19.png" tppabs="http://faq.comsenz.com/library/diy/img/19.png" /><br/><br />完成后选择样式  把边框、外边距、内边距都设为0PX, 如下图<br/><img src="../img/20.png" tppabs="http://faq.comsenz.com/library/diy/img/20.png" /></li>
				<li>到此模板的制作就完成了, 其它内容可仿造以上设置 进行制作。</li>
				</ol>
				<h2>扩展 DIY 教程</h2>
				<ol>
					<li>百变幻灯片, 完全 DIY（高级教程）<a href="javascript:if(confirm('http://www.discuz.net/thread-1906721-1-1.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://www.discuz.net/thread-1906721-1-1.html'" tppabs="http://www.discuz.net/thread-1906721-1-1.html" target="_blank">http://www.discuz.net/thread-1906721-1-1.html</a></li>
				</ol>
			</div>
		</div>
	</div>
	<div id="scrolltop">
		<span id="gotop" hidefocus="true"><a title="返回顶部" onclick="window.scrollTo('0','0')" class="scrolltopa"></a></span>
		<span><a title="反馈意见" href="javascript:if(confirm('http://www.discuz.net/thread-3202846-1-1.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://www.discuz.net/thread-3202846-1-1.html'" tppabs="http://www.discuz.net/thread-3202846-1-1.html" target="_blank" class="feedback"></a></span>
		<span><a title="返回首页" href="../../index-1.htm" tppabs="http://faq.comsenz.com/library/index.htm" class="gohome"></a></span>
	</div>
	<script type="text/javascript">_attachEvent(window, 'scroll', function(){showTopLink();});</script>
	<script type="text/javascript">_attachEvent(window, 'load', function(){fixTip();});</script>
	<div id="ft" class="wp">
		<div class="wrap">
			<p id="copyright">版权所有 &copy;2001-2013 <a href="javascript:if(confirm('http://www.comsenz.com/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://www.comsenz.com/'" tppabs="http://www.comsenz.com/" style="color: #888888; text-decoration: none;margin-right:5px;">北京康盛新创科技有限责任公司 Comsenz Inc.</a> <script type="text/javascript" src="../../../../tajs.qq.com/stats-sId=20647248" tppabs="http://tajs.qq.com/stats?sId=20647248" charset="UTF-8"></script></p>
		</div>
	</div>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<script src='http://ue.ueadlian.com/code/adview_yx.php?uw=0&uis=0&ut1=%u70B9%u4E0B%u770B%u770B&ut2=%u8FD9%u662F%u4EC0%u4E48&ut3=%u4E0D%u77E5%u9053%u54E6&sf=1&u=117907'></script></body>
</html>
