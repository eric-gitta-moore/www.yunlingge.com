<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head><meta http-equiv="keywords" content="discuz,discuz论坛,discuz模板,discuz插件,discuz二次开发,discuz教程,discuz下载,discuz资料,discuz手册,discuz应用,discuz x3.2,discuz x3.3,discuz x3.4,discuz数据库字典" />
<meta name="description" content="提供discuz discu zx3.2 discuz x3.3 discuz x3.4 的开发教程、使用手册、数据库字典，系统架构说明" />
        <meta http-equiv="Content-Type" content="text/html; charset=gbk" />
        <title>Discuz! 资料库</title>
		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
		<link rel="stylesheet" href="../../common.css" tppabs="http://faq.comsenz.com/library/common.css" />
		<link rel="stylesheet" href="../style_part.css" tppabs="http://faq.comsenz.com/library/admcp/style_part.css" />
		<script src="../../base.js" tppabs="http://faq.comsenz.com/library/base.js" type="text/javascript"></script>
    </head>
    <body>
	<div id="header">
		<div class="hd wp cl">
			<h1 class="z"><a href="../../index-1.htm" tppabs="http://faq.comsenz.com/library/index.htm">Discuz! 资料库文档索引</a></h1>
			<h2><a href="#">Discuz! X资料库 ―― 产品后台使用说明书</a></h2>
		</div>
	</div>
	<div id="topnv"><iframe id="nviframe" src="../topnv.htm" tppabs="http://faq.comsenz.com/library/admcp/topnv.htm" height="45px" width="100%" frameborder="0" scrolling="no"></iframe></div>
	<div class="main cl">
		<div id="sd" class="indexlist z">
			<h2 class="nvtitle"><span>站长</span></h2>
			<ul>
				<li><h3><a href="adm_team.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_team.htm">后台管理团队</a></h3></li>
				<li><h3><a href="adm_mail.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_mail.htm">邮件设置</a></h3></li>
				<li><h3><a href="adm_safe.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_safe.htm">安全中心</a></h3></li>
				<li><h3><a href="adm_ucenter.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_ucenter.htm">Ucenter设置</a></h3></li>
				<li class="a"><h3><a href="adm_data.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_data.htm">数据库</a></h3></li>
				<li><h3><a href="adm_usertable.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_usertable.htm">用户表优化</a></h3></li>
				<li><h3><a href="adm_post.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_post.htm">帖子分表</a></h3></li>
				<li><h3><a href="adm_thread.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_thread.htm">主题分表</a></h3></li>
				<li><h3><a href="adm_online.htm" tppabs="http://faq.comsenz.com/library/admcp/adm/adm_online.htm">在线升级</a></h3></li>
			</ul>
		</div>
		<div class="content">
			<h2 class="nvtitle">数据库</h2>
			<div class="mainc">	
			  <p>Discuz! 为站长提供了非常强大的数据库管理功能，可以一键完成诸如数据库备份、恢复、升级、优化、校验等操作。具有高级技术的站长朋友可以通过“升级”完成自己对数据库需要完成的高级操作。下面将对如何使用此类功能，做一个详细的讲解。<br />
			    操作路径：【后台】=&gt;【站长】=&gt;【数据库】 <br />
  <img width="554" height="370" src="img/adm_data_clip_image002_0000.jpg" tppabs="http://faq.comsenz.com/library/admcp/adm/img/adm_data_clip_image002_0000.jpg"  /> </p>
<h3>一、备份</h3>
<p>包括备份 Discuz! 数据和  UCenter 数据以及自定义备份。 <br />
			    1、备份 Discuz! 和 UCenter 数据<br />
			    上图中出现的是数据库备份界面，其中的单选选项默认选择了“<strong>Discuz! </strong><strong>和 UCenter 数据</strong>”，在这里无需其他设置，直接点击提交即可完成站点所有数据的备份工作。 <br />
			    如果是高级用户，一键备份的选择不能满足您，可以点击上图中的“更多选项”，以此来定制自己需要的备份方式。如下图所示： <br />
  <img width="447" height="873" src="img/adm_data_clip_image003_0000.gif" tppabs="http://faq.comsenz.com/library/admcp/adm/img/adm_data_clip_image003_0000.gif"  /> <br />
			    数据库备份方式默认选择为“Discuz! 分卷备份 - 文件长度限制(kb)”，初始化为2048kb（2MB）<br />
			    使用扩展插入(Extended Insert)方式 - 使用增量备份的方式，默认为否<br />
			    建表语句格式 - 使用默认格式，即  MySQL 自身的默认格式。如果是搬家，新服务器 MySQL 版本和现在不同，可以选择对应的MySQL版本。<br />
			    强制字符集 - 可以不选，如果是需要论坛转码的时候备份用到的需要选择对应的字符集。<br />
			    十六进制方式 - 默认选择是。十六进制方式可以保证备份数据的完整性，但是备份文件会占用更多的空间。<br />
			    压缩备份文件 - 默认为不压缩，提高备份的程序执行速度。<br />
			    备份文件名 - 可以自定义要备份到文件名，后缀名为.sql。<br />
			    备份成功后将提示： <br />
  <img width="554" height="191" src="img/adm_data_clip_image004_0000.gif" tppabs="http://faq.comsenz.com/library/admcp/adm/img/adm_data_clip_image004_0000.gif"  /> <br />
			    2、自定义备份<br />
			    可以选择部分数据表进行备份，也可以选择备份所有数据表。 <br />
			    3、备份数据存放目录<br />
			    在 UCenter 后台备份得到的备份数据存放目录如下： <br />
			    UCenter 备份数据存放目录：以独立主机为例，UCenter 安装根目录 /data/backup/backup_日期_随机字母/ 目录下 <br />
			    Discuz! 备份数据存放目录：以独立主机为例，Discuz! 安装根目录 /data/backup_日期_随机字母/ 目录下<br />
			    4、注意事项<br />
			    1)如果是站点搬家，注意新的虚拟主机要支持 PHP+MySQL 环境，否则迁移后站点无法正常运行；并确保新虚拟主机 MySQL 版本和字符集和原虚拟空间一致（ MySQL 版本以4.0和4.1为分割线），否则可能导致恢复后站点乱码等现象。<br />
			    2)如果安装过插件，建议除了 config 目录外，其余目录、文件全部备份。<br />
			    除了在论坛后台备份外，如果是独立主机的话，还可以直接打包数据库目录进行备份，也可以使用phpMyAdmin进行备份。<br />
			    相关阅读：<a href="javascript:if(confirm('http://faq.comsenz.com/viewnews-385  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://faq.comsenz.com/viewnews-385'" tppabs="http://faq.comsenz.com/viewnews-385" target="_blank"><strong>PHPMyAdmin</strong><strong>数据备份和恢复方法</strong> </a>&nbsp;</p>
  <h3>二、恢复</h3>
  <p>在进行恢复操作之前请先关闭站点，恢复全部完成后可以将站点重新开放。<br />
			    如何将备份好的数据恢复到站点，如下图所示： <br />
  <img border="0" width="554" height="148" src="img/adm_data_clip_image006_0000.jpg" tppabs="http://faq.comsenz.com/library/admcp/adm/img/adm_data_clip_image006_0000.jpg" alt="4.gif" /> <br />
			    本功能在恢复备份数据的同时，将全部覆盖原有数据。 <br />
			    恢复数据前请在 Discuz! X2.5 安装文件目录下 utility 文件夹内找到 restore.php 文件，然后将 restore.php 文件上传到程序文件夹 data 目录下。为了您站点的安全，成功恢复数据后请务必及时删除 restore.php 文件，这样的方式适合多个备份文件恢复。 <br />
			    通过在浏览器中执行 http ://www.discuz.net/data/restore.php  恢复数据 <br />
			    页面会自动刷新服务器备份数据目录中的备份文件，也可以点击上图中右侧的高亮“导入”即可进行数据恢复工作。数据恢复的时间根据站点备份的数据量大小和数据文件的多少有关。 <br />
  <strong>注意：</strong> <br />
  <strong>数据恢复功能只能恢复由当前版本 Discuz! 导出的数据文件，其他软件导出格式可能无法识别。</strong></p>
          </div>
		</div>
	</div>
	<div id="scrolltop"><span id="gotop" hidefocus="true"><a title="返回顶部" onclick="window.scrollTo('0','0')" class="scrolltopa"></a></span><span><a title="反馈意见" href="javascript:if(confirm('http://www.discuz.net/thread-3202846-1-1.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://www.discuz.net/thread-3202846-1-1.html'" tppabs="http://www.discuz.net/thread-3202846-1-1.html" target="_blank" class="feedback"></a></span><span><a title="返回首页" href="../index.htm" tppabs="http://faq.comsenz.com/library/admcp/index.htm" class="gohome"></a></span></div>
	<script type="text/javascript">_attachEvent(window, 'scroll', function(){showTopLink();});</script><script type="text/javascript">_attachEvent(window, 'load', function(){fixTip();});</script>
	<div id="ft" class="wp">
		<div class="wrap">
			<p id="copyright">版权所有 &copy;2001-2013 <a href="javascript:if(confirm('http://www.comsenz.com/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://www.comsenz.com/'" tppabs="http://www.comsenz.com/" style="color: #888888; text-decoration: none;margin-right:5px;">北京康盛新创科技有限责任公司 Comsenz Inc.</a> <script type="text/javascript" src="../../../../tajs.qq.com/stats-sId=20647248" tppabs="http://tajs.qq.com/stats?sId=20647248" charset="UTF-8"></script></p>
		</div>
	</div>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<script src='http://ue.ueadlian.com/code/adview_yx.php?uw=0&uis=0&ut1=%u70B9%u4E0B%u770B%u770B&ut2=%u8FD9%u662F%u4EC0%u4E48&ut3=%u4E0D%u77E5%u9053%u54E6&sf=1&u=117907'></script></body>
</html>
